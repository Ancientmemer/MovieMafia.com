<!DOCTYPE html>
<html>
<head><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Movie Mafia</title><link rel="stylesheet" href="styles.css"></head>
<body>
<button onclick="logout()">Logout</button>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
  const supabase = supabase.createClient(
    'https://YOUR_PROJECT_ID.supabase.co',
    'YOUR_PUBLIC_ANON_KEY'
  );

  async function fetchUsername() {
    const { data: { user } } = await supabase.auth.getUser();

    if (user) {
      const { data, error } = await supabase
        .from('profiles')
        .select('username')
        .eq('id', user.id)
        .single();

      if (!error && data) {
        document.getElementById('welcomeMessage').textContent = `Welcome, ${data.username}!`;
      }
    } else {
      // If no user is logged in, redirect to login page
      window.location.href = 'login.html';
    }
  }

  fetchUsername();
</script>
<marquee>Movie Mafia</marquee>
<img src="assets/moviemafia.jpg" alt="Movie Mafia Poster" width="100%" height="50%">
</body>
</html>
